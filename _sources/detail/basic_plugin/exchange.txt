.. include:: ../../definition.txt

==============================
Exchange
==============================

Exchange とは、プレイヤーが Inventory 内で所持している Content を消費し、新しい Content を付与するといった交換を扱う機能です。

BasicPlugin では、基本的に Exchange の機能を使用して、プレイヤーの Content 操作を行います。
「キャラクターA」に「アイテムA」を合成して「経験値」を付与したり、「武器A」と「お金」を消費して「武器B」を付与するといった機能が Exchange で実装できます。

交換の組み合わせは :doc:`../../master/exchange` で、以下の定義をします。

* 消費するコンテンツ
    Exchange によって消費するコンテンツを指定します。

    消費するコンテンツは、 Content と 消費する個数 の組み合わせを 0個以上指定します。

    組み合わせが 0個の時、 Exchange によってコンテンツが消費されません。

* 付与するコンテンツ
    Exchange によって付与するコンテンツを指定します。

    付与するコンテンツは、 Content と消費する個数 の組み合わせを　０
また付与する Content は複数個設定することができます。複数個設定された付与 Content にはそれぞれ重み値を設定することができ、
その場合、抽選による選択が行われます。

これにより |defExchange| マスタでは以下の交換が設定できます。

* 1種類と1種類の Content の交換 (1:1 交換)
* 1種類と複数種類の Content の交換 (1:n 交換)
* 複数種類と1種類の Content の交換 (n:1 交換)
* 複数種類と複数種類の Content の交換 (n:n 交換)
* 複数のコンテンツから抽選で1つの Content が選択される交換
* 消費のない交換 (0:n 交換)

|defExchange| マスタについては :doc:`../../master/exchange` を参照してください。

提供するAPI
====================

.. csv-table::
    :header: API 名,説明
    :widths: 3,15

    :doc:`../../api/basic_plugin/exchange/exchange`,交換マスタで定義した内容をリクエストして、|defExchange| を実行します
